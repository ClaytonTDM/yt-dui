<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>yt-dui</title>
        <style>
            :root {
                color-scheme: dark;
                --bgPrimary: #202020;
                --bgSecondary: #333;
                --bgTertiary: #444;
                --bgQuaternary: #555;
                --bgQuinary: #777;
                --bgSenary: #aaa;
                --accent: #bd90f4;
            }
            h1,
            h2,
            h3,
            h4,
            h5,
            h6,
            p,
            a,
            label,
            input,
            select,
            textarea {
                user-select: none;
            }
            .hidden {
                display: none;
            }
            body {
                font-family: system-ui, -apple-system, BlinkMacSystemFont,
                    "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans",
                    "Helvetica Neue", sans-serif;
                background-color: var(--bgPrimary);
                color: #fff;
                margin-left: 30px;
                user-select: none;
            }
            textarea {
                font-family: system-ui, -apple-system, BlinkMacSystemFont,
                    "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans",
                    "Helvetica Neue", sans-serif;
                background-color: var(--bgPrimary);
                width: calc(100% - 53px);
                color: #fff;
                border: solid 2px var(--bgTertiary);
                padding: 10px;
                margin-top: 5px;
                margin-bottom: 1px;
                border-radius: 5px;
                resize: none;
            }
            textarea:focus {
                outline: none;
                margin-bottom: 0;
                border-bottom: 3px solid var(--accent);
            }
            label {
                font-size: 1em;
            }
            .br {
                margin-bottom: 15px;
            }
            .brhalf {
                margin-bottom: 7.5px;
            }
            .right {
                float: right;
                margin-left: 6px;
            }
            .farright {
                float: right;
                margin-right: 30px;
                margin-left: 6px;
            }
            select {
                padding-right: 63px;
                padding-top: 3.5px;
                padding-bottom: 3.5px;
                border-radius: 5px;
                background-color: var(--bgSecondary);
                border: 2px solid var(--bgTertiary);
            }
            select:focus {
                outline: none;
            }
            .formatright {
                margin: 0 30px 0 48px;
            }
            input[type="radio"] {
                display: none;
            }
            input[type="radio"] + label:before {
                content: "";
                display: inline-block;
                width: 12.5px;
                height: 12.5px;
                margin: 0 5px 0 5px;
                border-radius: 50%;
                border: 2px solid var(--bgQuinary);
                box-sizing: border-box;
                background-color: var(--bgTertiary);
            }
            input[type="radio"]:checked + label:before {
                background-color: var(--bgSecondary);
                border: 4px solid var(--accent);
            }
            input[type="radio"].firstradio + label:before {
                margin-left: 0;
                margin-top: 6px;
            }
            .file-upload {
                display: flex;
                align-items: center;
            }
            #file-name {
                flex-grow: 1;
                margin-right: 5px;
                margin-bottom: 1px;
                padding-top: 2px;
                padding-bottom: 2px;
                border-radius: 5px;
                background-color: var(--bgPrimary);
                border: 2px solid var(--bgTertiary);
                border-bottom: 2px solid var(--bgQuaternary);
            }
            #file-name:focus {
                outline: none;
                margin-bottom: 0;
                border-bottom: 3px solid var(--accent);
            }

            button {
                text-align: center;
                padding: 6.5px 40px 6.5px 40px;
                border-radius: 5px;
                margin-right: 30px;
                background-color: var(--bgSecondary);
                border: 2px solid var(--bgTertiary);
            }
            button:hover {
                background-color: var(--bgTertiary);
            }
            #download-button {
                width: calc(100% - 30px);
            }
            #log {
                border-radius: 0;
                height: 1em;
                font-family:'Courier New', Courier, monospace;
                color: #ccc;
            }
            #version {
                color: var(--bgSenary);
            }
        </style>
    </head>
    <body>
        <h1>Let's download stuff.</h1>
        <label for="urls">Source URLs</label>
        <textarea
            id="urls"
            placeholder="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
            rows="4"
            spellcheck="false"
        ></textarea>

        <div class="br"></div>
        <label for="type" class="">Download type</label>
        <label for="format" class="right formatright">Format</label>
        <label for="resolution" class="farright">Video resolution</label>

        <div class="brhalf"></div>

        <input
            class="firstradio"
            type="radio"
            id="video"
            name="type"
            value="video"
        />
        <label for="video">Video</label>
        <input type="radio" id="audio" name="type" value="audio" />
        <label for="audio">Audio only</label>

        <select class="farright" name="format" id="videoformat">
            <option value="mp4">MP4</option>
            <option value="mkv">MKV</option>
            <option value="mov">MOV</option>
            <option value="avi">AVI</option>
            <option value="flv">FLV</option>
        </select>
        <select class="hidden farright" name="format" id="audioformat">
            <option value="mp3">MP3</option>
            <option value="wav">WAV</option>
            <option value="flac">FLAC</option>
            <option value="aac">AAC</option>
            <option value="alac">ALAC</option>
            <option value="m4a">M4A</option>
            <option value="opus">OPUS</option>
            <option value="vorbis">VORBIS</option>
        </select>

        <select class="right" name="resolution" id="resolution">
            <option value="1080p">1080p</option>
            <option value="720p">720p</option>
            <option value="480p">480p</option>
            <option value="360p">360p</option>
            <option value="240p">240p</option>
            <option value="144p">144p</option>
        </select>
        <br /><br />
        <label for="outputdir">Output directory</label>
        <br />
        <div class="file-upload">
            <input type="text" id="file-name" readonly />
            <button type="button" id="file-button">Browse...</button>
            <input
                type="file"
                webkitdirectory
                directory
                id="file-upload"
                style="display: none"
            />
        </div>
        <div class="br"></div>
        <button id="download-button">Start download</button>
        <div class="halfbr"></div>
        <textarea disabled id="log" spellcheck="false">logs here blabla</textarea>
        <div class="br"></div>
        <label id="version">yt-dlp versionhereblabla</label>
        <script>
            document.getElementById("urls").placeholder =
                "https://www.youtube.com/watch?v=dQw4w9WgXcQ\nhttps://www.youtube.com/watch?v=PUew7VIUfnA\netc...";
            const { dialog } = require("@electron/remote");

            document
                .getElementById("file-button")
                .addEventListener("click", function () {
                    dialog
                        .showOpenDialog({
                            properties: ["openDirectory"],
                        })
                        .then((result) => {
                            if (!result.canceled) {
                                document.getElementById("file-name").value =
                                    result.filePaths[0];
                            }
                        })
                        .catch((err) => {
                            console.log(err);
                        });
                });
        </script>
    </body>
</html>
